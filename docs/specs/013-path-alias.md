# Add `@` Path Alias and Update Imports

## Context

The project has deep relative imports (e.g., `../../../lib/auth`) that are fragile and hard to read. The `tsconfig.json` already has a `~/*` alias but it's unused — all imports currently use relative paths. This change replaces `~/*` with the more conventional `@/*` alias and updates all cross-directory imports to use it.

## Changes

### 1. Update `tsconfig.json` path alias

**File:** `apps/web/tsconfig.json`

Replace the existing `paths` entry:

```json
// Before
"paths": { "~/*": ["./src/*"] }

// After
"paths": { "@/*": ["./src/*"] }
```

No changes needed to `vite.config.ts` — the `vite-tsconfig-paths` plugin already reads paths from tsconfig.

### 2. Update imports across source files

Convert cross-directory relative imports to use `@/`. Keep same-directory sibling imports (e.g., `./auth-config`) as relative since the alias adds no clarity there.

**Files updated:**

| File                                 | Relative imports → `@/` imports                                                                                              |
| ------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| `apps/web/src/routes/__root.tsx`     | `../lib/auth-client` → `@/lib/auth-client`, `../router` → `@/router`                                                         |
| `apps/web/src/routes/index.tsx`      | `../lib/auth-client` → `@/lib/auth-client`                                                                                   |
| `apps/web/src/routes/login.tsx`      | `../lib/auth-client` → `@/lib/auth-client`, `../lib/forms/*` → `@/lib/forms/*`, `../lib/schemas/auth` → `@/lib/schemas/auth` |
| `apps/web/src/routes/signup.tsx`     | `../lib/auth-client` → `@/lib/auth-client`, `../lib/forms/*` → `@/lib/forms/*`, `../lib/schemas/auth` → `@/lib/schemas/auth` |
| `apps/web/src/routes/_authed.tsx`    | `../lib/auth-client` → `@/lib/auth-client`                                                                                   |
| `apps/web/src/routes/api/auth/$.tsx` | `../../../lib/auth` → `@/lib/auth` (dynamic imports)                                                                         |
| `apps/web/src/router.tsx`            | `./lib/auth-client` → `@/lib/auth-client`, `./routeTree.gen` → `@/routeTree.gen`                                             |
| `apps/web/src/lib/schemas/auth.ts`   | `../auth-config` → `@/lib/auth-config`                                                                                       |

**Files NOT updated (same-directory siblings — keep relative):**

- `apps/web/src/lib/auth.ts` — imports `./auth-config` (same directory)
- `apps/web/src/lib/auth-client.ts` — dynamic import `./auth` (same directory)
- `apps/web/src/lib/forms/form-components.tsx` — imports `./form-utils` (same directory)

**File skipped (auto-generated):**

- `apps/web/src/routeTree.gen.ts` — regenerated by TanStack Router, do not edit

### 3. Update CLAUDE.md

Added `@/` alias convention to Code Style section so future code follows the pattern.

## Verification

1. `pnpm type-check` — confirms TypeScript resolves all `@/` paths ✅
2. `pnpm build` — confirms Vite bundles correctly via `vite-tsconfig-paths` ✅
3. `pnpm dev` — smoke test that auth and pages still work
